#!/bin/bash

echo "apt update"
sudo apt update

## Install all the used tools
GENERAL_PACKAGE_LIST=(
	git 
	vim
	neovim
	nala
	curl
	wget
	network-manager
	zsh
	alacritty
)
sudo add-apt-repository ppa:aslatter/ppa -y # Repo for alacritty
for PACKAGE in ${GENERAL_PACKAGE_LIST[@]}; do
	echo ================================================================================
	echo "Installing $PACKAGE"
	sudo apt install -y "$PACKAGE"	
done

sudo snap install code

## Install neovim plugin tool: vim-plug
echo 
echo "installing neovim plugin tool"
echo "don't forget to use the :PlugInstall command in neovim to install the configured plugins"
echo
sh -c 'curl -fLo "${XDG_DATA_HOME:-$HOME/.local/share}"/nvim/site/autoload/plug.vim --create-dirs \
       https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim'
echo

## Install C/C++ dev tools
while true; do
    read -p "Do you want to install C/C++ dev tools? (yn): " RESP
    case $RESP in 
        [Yy]* ) 
            sudo apt install -y build-essential cmake clang
            break;;
        [Nn]* )
            break;;
        * )
            echo "yes or no"
    esac
done

## Install Flutter dev tools
while true; do
    read -p "Do you want to install FLutter dev tools? (yn): " RESP
    case $RESP in 
        [Yy]* ) 
            sudo snap install flutter --classic && flutter doctor
            break;;
        [Nn]* )
            break;;
        * )
            echo "yes or no"
    esac
done

chsh -s $(which zsh)
DIR=$(git rev-parse --show-toplevel)
"$DIR"/scripts/create-sym-links.sh
